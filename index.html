<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <script type="text/javascript" src="d3/d3.v3.js"></script>
    </head>
    <style type="text/css">

        .bars {
            //background-color: black;
        }
        .bars rect {
            fill: red;
        }
        .bars text {
            fill: white;
            font: 16px sans-serif;
            font-family: Helvetica;
            font-weight: bold;
            text-anchor: start;
        }
    </style>
    <body>

        <svg class="bars"></svg>
        <script type="text/javascript">

        // my dataset
            var dataset = [ 396,
1075,
897,
1121,
852,
661,
1122,
242,
59,
943,
366,
896,
905,
1011,
227,
792,
732,
553,
471,
59,
428,
1119,
482,
184,
445,
1026,
454,
474,
1100,
653,
590,
123,
228,
752,
454,
53,
45,
829,
1053,
623,
1100,
777,
1036,
460,
39,
503,
985,
631,
521,
41 ];

    // chart size
    var width = 1200,
        barHeight = 20;

    // map the width of the bars with the max width of the container
    var x = d3.scale.linear()
        .domain([0, d3.max(dataset)])
        .range([0, width]);

    // select the canvas and add attributes
    var chart = d3.select(".bars")
        .attr("width", width)
        .attr("height", (barHeight+3) * dataset.length); // adding 3px here to each bar because they are added as top margin in the creation of the bar

    // create svg elements (g tags) for each element in the dataset
    var bar = chart.selectAll("g")
            .data(dataset)
        .enter().append("g")
            .attr("transform", function(d, i) { return "translate(0," + i * (barHeight+3) + ")"; }); // adding 3px as margin top

    // create the bar shape appending rect tags inside the g with inline attributes
    bar.append("rect")
        .attr("width", x)
        .attr("height", barHeight)
        .attr("rx", 5)
        .attr("ry", 2);

    // insert value of the element in the dataset as text into text tags with inline attributes
    bar.append("text")
        //.attr("x", function(d) { return x(d) - 3; }) // tweaked positioning for text aligned right
        .attr("x", 3)
        .attr("y", barHeight / 2)
        .attr("dy", ".35em")
        .text(function(d) { return d; });
               
        </script>
       

    </body>
</html>